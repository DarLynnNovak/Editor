@using System.Collections.Concurrent
@using System.Web.Mvc.Html
@using App.Models.PersonSuggestion
@using App.Resources
@model App.ViewModels.PersonSuggestion.SuggestionNewViewModel

@Html.Partial(MVC.Shared.Views._PageHeading)
<div class="container-fluid ">
    @using (Html.BeginForm(MVC.PersonSuggestion.ActionNames.SuggestionNewSave, MVC.PersonSuggestion.Name, FormMethod.Post, new {name = "newsuggestions", id = "newsuggestions"}))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary()
        @Html.HiddenFor(m => m.PersonSuggestionModels.ID)
        @Html.HiddenFor(m => m.PersonSuggestionModels.PersonId)
        @Html.HiddenFor(m => m.PersonSuggestionModels.ExternalStatusTypeId)
        @Html.HiddenFor(m => m.PersonSuggestionModels.InternalStatusTypeId)
        @Html.HiddenFor(m => m.InternalStatusNewEntry)
        @Html.HiddenFor(m => m.InternalStatusNewEntryField)
        @Html.HiddenFor(m => m.PersonSuggestionModels.SelectedFieldId)
        @Html.HiddenFor(m => m.PersonSuggestionModels.IsAppendix)

       <div class="row">
            <div class="col-lg-11 col-md-11">
                @(Html.Raw(Model.EditNewInstructions))
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-3">
                @Html.LabelFor(m => m.VersionsList, " Book Version: ", true)
            </div>
            <div class="col-lg-8 col-md-8">
                @Html.DropDownListFor(m => m.PersonSuggestionModels.NtdsVersionId, Model.VersionsList, "- Select Book Version -")
                @Html.ValidationMessageFor(m => m.VersionsList)
            </div>
        </div>
        <div id="chapters" class="row">
            <div class="col-lg-3 col-md-3">
                @Html.LabelFor(m => m.ChapterList, " Chapter: ", true)
            </div>
            <div class="col-lg-8 col-md-8">
                @Html.DropDownListFor(m => m.PersonSuggestionModels.NtdsChapterId, Model.ChapterList, "- Select Chapter -")
                @Html.ValidationMessageFor(m => m.ChapterList)
            </div>
        </div>
        <div class="row datafields">
            <div class="col-lg-3 col-md-3">
                @Html.LabelFor(m => m.FieldList, " Data Field: ", true)
            </div>
            <div class="col-lg-8 col-md-8">
                @Html.DropDownListFor(m => m.PersonSuggestionModels.FieldId, Model.FieldList, "- Select Data Field -")
                @Html.ValidationMessageFor(m => m.FieldList)


                <span class="showlink">
                    <text>&nbsp;&nbsp;OR&nbsp;&nbsp;&nbsp;&nbsp;</text>
                    <input type="button" name="btnNewField" id="btnNewField" value="@Buttons.AddNewField" class="shownewfield" />
                </span>
            </div>
        </div>
        <div class="row newappendixname">
            <div class="col-lg-3 col-md-3">
                @Html.LabelFor(m => m.PersonSuggestionModels.NtdsFieldTypeId, " Appendix Type: ", true)
            </div>
            <div class="col-lg-8 col-md-8">
                @for (int i = 0; i < Model.AppendixList.Count; i++)
                {
                    @Html.RadioButtonFor(m => m.PersonSuggestionModels.NtdsFieldTypeId, Model.AppendixList[i].ID)
                    ;
                    <label>&nbsp;</label>
                    @Html.Label(Model.AppendixList[i].Name)
                    ;
                    <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                }
                @Html.ValidationMessageFor(m => m.PersonSuggestionModels.NtdsFieldTypeId)
            </div>
        </div>
        <div class="row newfield_name">
            <div class="col-lg-3 col-md-3">
                @Html.LabelFor(m => m.PersonSuggestionModels.NewFieldName, " Field Name: ", true)
                @Html.HiddenFor(m => m.PersonSuggestionModels.FieldId)
            </div>
            <div class="col-lg-8 col-md-8">
                <span id="newfieldnamecount"></span>&nbsp;characters remaining<br />
                @Html.TextAreaFor(m => m.PersonSuggestionModels.NewFieldName, new { @class = "noblecount", data_spanname = "newfieldnamecount", cols = "100", rows = "5" })
                @Html.ValidationMessageFor(m => m.PersonSuggestionModels.NewFieldName)
            </div>
        </div>
        <div class="row showdefinition">
            <div class="col-lg-3 col-md-3">
                <span class="thisrequired">* </span>
                @Html.LabelFor(m => m.PersonSuggestionModels.Definition, " Definition: ")
            </div>
            <div class="col-lg-8 col-md-8">
                <span id="definitionnamecount"></span>&nbsp;characters remaining<br />
                @Html.TextAreaFor(m => m.PersonSuggestionModels.Definition, new { @class = "noblecount", data_spanname = "definitionnamecount", cols = 100, rows = 4 })
                @Html.ValidationMessageFor(m => m.PersonSuggestionModels.Definition)
            </div>
        </div>
        <div class="notappendix">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <span class="thisrequired">* </span>
                    @Html.LabelFor(m => m.PersonSuggestionModels.FieldValues, " Field Values: ")
                </div>
                <div class="col-lg-8 col-md-8">
                    <span id="fieldvaluescount"></span>&nbsp;characters remaining<br />
                    @Html.TextAreaFor(m => m.PersonSuggestionModels.FieldValues, new { @class = "noblecount", data_spanname = "fieldvaluescount", cols = 100, rows = 4 })
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    @Html.LabelFor(m => m.PersonSuggestionModels.AdditionalInformation, " Additional Information: ")
                </div>
                <div class="col-lg-8 col-md-8">
                    <span id="additionalinfocount"></span>&nbsp;characters remaining<br />
                    @Html.TextAreaFor(m => m.PersonSuggestionModels.AdditionalInformation, new { @class = "noblecount", data_spanname = "additionalinfocount", cols = 100, @rows = 4 })
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    @Html.LabelFor(m => m.PersonSuggestionModels.DataSourceHierarchy, " Data Source Hierarchy: ")
                </div>
                <div class="col-lg-8 col-md-8">
                    <span id="datasourcecount"></span>&nbsp;characters remaining<br />
                    @Html.TextAreaFor(m => m.PersonSuggestionModels.DataSourceHierarchy, new { @class = "noblecount", data_spanname = "datasourcecount", cols = 100, @rows = 4 })
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    @Html.LabelFor(m => m.PersonSuggestionModels.AssociatedEditChecks, " Associated Edit Checks: ")
                </div>
                <div class="col-lg-8 col-md-8">
                    <span id="associatedcheckscount"></span>&nbsp;characters remaining<br />
                    @Html.TextAreaFor(m => m.PersonSuggestionModels.AssociatedEditChecks, new { @class = "noblecount", data_spanname = "associatedcheckscount", cols = 100, @rows = 4 })
                </div>
            </div>
        </div>
        <div class="row centerblock">
            <br /><br />
            <input type="submit" name="savesuggestion" id="savesuggestion" class="btn acs-btn-primary" value="@Buttons.SaveSuggestion" />
            <text>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
            @Html.ActionLink(Buttons.CancelSuggestion, MVC.Home.Index(), new {@class = "acs-button-warning"})
        </div>
    }
    <script type="text/javascript">
        suggestionNewInitialize();
    </script>
</div>